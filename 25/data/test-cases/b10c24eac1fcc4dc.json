{"uid":"b10c24eac1fcc4dc","name":"Should not be able to add a resident credential when setHasUserVerification=false","fullName":"com.cdTester.tests.selenium.web.interactions.VirtualAuthenticatorTest.residentCredentialNotSupportedWhenSetHasUserVerificationFalse","historyId":"52b0588fd22d79832936cf2264be856","time":{"start":1764957098197,"stop":1764957098503,"duration":306},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"GIVEN ChromeDriver has been initiated","time":{"start":1764957098198,"stop":1764957098425,"duration":227},"status":"passed","steps":[{"name":"ChromeOptions","time":{"start":1764957098198,"stop":1764957098198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Options","value":"Capabilities {browserName: chrome, goog:chromeOptions: {args: [disable-search-engine-choic..., --headless=new, --window-size=1200,800], extensions: []}, timeouts: {implicit: 1000}}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Starting ChromeDriver","time":{"start":1764957098198,"stop":1764957098425,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Driver","value":"ChromeDriver: chrome on linux (1b210cd763e1fd4af8f1de38310947fe)"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"AND the virtual authenticator options are set using U2F protocol","time":{"start":1764957098426,"stop":1764957098426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"protocol set to:","value":"U2F"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"AND hasResidentKey is set to true","time":{"start":1764957098426,"stop":1764957098426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"hasResidentKey set to:","value":"true"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"AND setHasUserVerification is set to false","time":{"start":1764957098426,"stop":1764957098426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"setHasUserVerification set to:","value":"false"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"AND the virtual authenticator is created","time":{"start":1764957098426,"stop":1764957098427,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"options set","value":"[protocol=ctap1/u2f, isUserVerified=false, hasUserVerification=false, hasResidentKey=true, transport=usb, isUserConsenting=true]"},{"name":"Virtual Authenticator id:","value":"e18fabe2-6010-4407-a788-ecb9b68dde1b"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"WHEN a resident credential is created","time":{"start":1764957098427,"stop":1764957098427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"credential id:","value":"[1, 2, 3, 4]"},{"name":"rp id:","value":"localhost"},{"name":"Encoding:","value":"PKCS8EncodedKeySpec"},{"name":"privateKey:","value":"MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQg8/zMDQDYAxlU+Qhk1Dwkf0v18GZca1DMF3SaJ9HPdmShRANCAASNYX5lyVCOZLzFZzrIKmeZ2jwURmgsJYxGP//fWN/S+j5sN4tT15XEpN/7QZnt14YvI6uvAgO0uJEboFaZlOEB"},{"name":"userHandle:","value":"[1]"},{"name":"sign count:","value":"0"},{"name":"Credential","value":"[userHandle=AQ==, privateKey=MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQg8_zMDQDYAxlU-Qhk1Dwkf0v18GZca1DMF3SaJ9HPdmShRANCAASNYX5lyVCOZLzFZzrIKmeZ2jwURmgsJYxGP__fWN_S-j5sN4tT15XEpN_7QZnt14YvI6uvAgO0uJEboFaZlOEB, signCount=0, credentialId=AQIDBA==, rpId=localhost, isResidentCredential=true]"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"THEN the resident credential can not be added to the authenticator","time":{"start":1764957098427,"stop":1764957098436,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"Attempting to add resident credential to U2F authenticator","value":"This should fail"},{"name":"Error:","value":"invalid argument: The Authenticator does not support Resident Credentials.\n  (Session info: chrome=142.0.7444.175)\nBuild info: version: '4.38.0', revision: '6b412e825c*'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '6.11.0-1018-azure', java.version: '21.0.5'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [1b210cd763e1fd4af8f1de38310947fe, addCredential {isResidentCredential=true, userHandle=AQ==, authenticatorId=e18fabe2-6010-4407-a788-ecb9b68dde1b, signCount=0, rpId=localhost, credentialId=AQIDBA==, privateKey=MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQg8_zMDQDYAxlU-Qhk1Dwkf0v18GZca1DMF3SaJ9HPdmShRANCAASNYX5lyVCOZLzFZzrIKmeZ2jwURmgsJYxGP__fWN_S-j5sN4tT15XEpN_7QZnt14YvI6uvAgO0uJEboFaZlOEB}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 142.0.7444.175, chrome: {chromedriverVersion: 142.0.7444.175 (302067f14a4..., userDataDir: /tmp/.org.chromium.Chromium...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:42159}, goog:processID: 11954, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:42159/devtoo..., se:cdpVersion: 142.0.7444.175, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 1000, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 1b210cd763e1fd4af8f1de38310947fe"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d7d27ab6ba000053","name":"Stdout","source":"d7d27ab6ba000053.txt","type":"text/plain","size":99}],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"regression"},{"name":"tag","value":"virtualAuthenticator"},{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:com.cdTester.tests.selenium.web.interactions.VirtualAuthenticatorTest]/[method:residentCredentialNotSupportedWhenSetHasUserVerificationFalse()]"},{"name":"epic","value":"Epic: Working with Virtual Authenticator"},{"name":"feature","value":"Feature: Virtual Authenticator Tests"},{"name":"owner","value":"QA/Chris"},{"name":"story","value":"Story: create virtual authenticator"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2732@runnervmoqczp.ForkJoinPool-1-worker-1(26)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"com.cdTester.tests.selenium.web.interactions.VirtualAuthenticatorTest"},{"name":"testClass","value":"com.cdTester.tests.selenium.web.interactions.VirtualAuthenticatorTest"},{"name":"testMethod","value":"residentCredentialNotSupportedWhenSetHasUserVerificationFalse"},{"name":"suite","value":"com.cdTester.tests.selenium.web.interactions.VirtualAuthenticatorTest"},{"name":"severity","value":"normal"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Browser","value":"chrome"}],"links":[{"name":"TC-165","url":"https://testrail.example.com/TC-165","type":"tms"},{"name":"BUG-1165","url":"https://jira.example.com/browse/BUG-1165","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"QA/Chris","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":4,"unknown":0,"total":4},"items":[{"uid":"ccdc16e19238e0d5","reportUrl":"https://CDTester.github.io/JUnit-Selenium/24/#testresult/ccdc16e19238e0d5","status":"passed","time":{"start":1764952984455,"stop":1764952984813,"duration":358}},{"uid":"1b56119884fe0f73","reportUrl":"https://CDTester.github.io/JUnit-Selenium/23/#testresult/1b56119884fe0f73","status":"passed","time":{"start":1764951723763,"stop":1764951724124,"duration":361}},{"uid":"64bffd26506bc778","reportUrl":"https://CDTester.github.io/JUnit-Selenium/22/#testresult/64bffd26506bc778","status":"passed","time":{"start":1764948516680,"stop":1764948517055,"duration":375}}]},"tags":["regression","virtualAuthenticator"]},"source":"b10c24eac1fcc4dc.json","parameterValues":["chrome"]}